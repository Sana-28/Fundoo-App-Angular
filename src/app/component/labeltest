<div fxLayout="column" fxLayoutGap="12px">
       
    <div *ngIf="data.image">
            <mat-card>
                <mat-card-header>
                 <img [src]='"/assets/icon/"+data.image'/>
                </mat-card-header>
                <button mat-icon-button  style="margin-left: 96%;" (click)="removeImage()">
                        <mat-icon>delete</mat-icon>
                </button>
                    
            </mat-card>
             
    </div>

    <div id="update-title" contenteditable='true' data-text='Title' class="editable line-height"name="title" (input)="data.title=$event.target.innerHTML"></div>
    
    <div id="update-description" contenteditable='true' data-text='Take a note..' class="editable line-height" name="description" (input)="data.description=$event.target.innerHTML"></div>

    <div>
        <button mat-button style="margin-left: 88%;" (click)="updateNote()">Close</button>
    </div>

</div>



/** update note css*/
[contentEditable=true]:empty:before{
    content:attr(data-text)
  }
  .editable {
  word-wrap: break-word;
  white-space: pre-wrap;
  outline: none;
  line-height: 20px; 
  } 

/**updates*/
import { Component, OnInit, Inject } from '@angular/core';
import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';
import { HttputilService } from '../httputil.service';
import { NoteResponse } from '../NoteResponse';
import { UrlDTO } from '../UrlDTO';
import { UrlDataRes } from '../UrlDataRes';

@Component({
  selector: 'app-update',
  templateUrl: './update.component.html',
  styleUrls: ['./update.component.css']
})
export class UpdateComponent implements OnInit {
  UrlDTO: any = {};
  urlDtoRes:UrlDataRes[];

  constructor(
    @Inject(MAT_DIALOG_DATA) public data: NoteResponse,
    private commonService: HttputilService,
    public MatRef: MatDialogRef<UpdateComponent>) {

  }

  ngOnInit() {
    document.getElementById('update-title').innerHTML = this.data.title;
    document.getElementById('update-description').innerHTML = this.data.description;
  }

  updateNote() {
   
     this.commonService.putService('updateNote', this.data)
       .subscribe(response => {
         this.MatRef.close();
      });
  }

  removeImage() {
    this.data.image = null;
    this.commonService.putService('updateNote', this.data)
      .subscribe(response => {
        console.log(response);
      });
  }
}